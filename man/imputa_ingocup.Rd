% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/imputa_ingocup.R
\encoding{UTF-8}
\name{imputa_ingocup}
\alias{imputa_ingocup}
\title{Imputar ingresos ocupacionales con MICE}
\usage{
imputa_ingocup(
  data,
  vars_donantes = c("edad", "anios_es", "c_ocu11c", "pos_ocu", "rama_est2", "ing7c",
    "ent", "hrsocup", "t_loc"),
  id_vars = c("folio3", "trim", "anio"),
  method = "pmm",
  seed = 1234,
  plot = FALSE,
  anio = NULL,
  trimestre = NULL
)
}
\arguments{
\item{data}{Un data frame con personas ocupadas (\code{clase2 == 1}) y variables de ingreso (\code{ingocup}),
variables donantes y metadatos de identificación.}

\item{vars_donantes}{Vector con nombres de variables que se utilizarán como predictores para la imputación.}

\item{id_vars}{Vector con nombres de variables identificadoras (por defecto: \code{folio3}, \code{trim}, \code{anio}).}

\item{method}{Método de imputación utilizado por \code{mice} (por defecto: \code{"pmm"}).}

\item{seed}{Semilla aleatoria para reproducibilidad.}

\item{plot}{Lógico. Si \code{TRUE}, se muestra un gráfico comparando la distribución del ingreso original vs imputado.}

\item{anio}{Año del trimestre, si \code{data} no contiene esta variable.}

\item{trimestre}{Trimestre del año (1–4), si \code{data} no contiene esta variable.}
}
\value{
Un data frame con las variables:
\describe{
\item{ingocup_imp}{Ingreso mensual imputado}
\item{log_ingocup_imp}{Logaritmo del ingreso imputado}
\item{imp_ingocup}{Indicador binario de si el ingreso fue imputado (1 = sí)}
}
}
\description{
Esta función aplica imputación de ingresos mensuales (\code{ingocup}) para personas ocupadas en la ENOE
utilizando modelos de imputación múltiple con el paquete \code{mice}. Se utiliza el logaritmo del ingreso
como variable objetivo y se imputan los valores faltantes en función de variables donantes como edad,
escolaridad, ocupación, horas trabajadas, entre otras.
}
\details{
La imputación se realiza por bloques según sexo y entidad federativa. Si no existen las variables \code{folio3},
\code{anio} o \code{trim}, se generan automáticamente con funciones auxiliares (\code{crear_folios()} y \code{procesar_vars_sociodemo()}).

La imputación de ingresos se realiza únicamente para personas ocupadas (\code{clase2 == 1})
con datos válidos de edad, y en caso de estar disponible, también de años de escolaridad (\code{anios_es}).

La variable a imputar es el logaritmo natural del ingreso mensual (\code{log_ingocup_imp}), y la imputación
se realiza utilizando el método especificado (por defecto \code{"pmm"}, predictive mean matching) a través del paquete \code{mice}.

Las imputaciones se hacen de forma separada por bloques definidos por el sexo (\code{sex}) y la entidad federativa (\code{ent}),
para capturar mejor las heterogeneidades contextuales.

Las variables utilizadas como predictoras ("donantes") incluyen, si están presentes:
\itemize{
\item \code{edad}: Edad en años.
\item \code{anios_es}: Años aprobados de escolaridad.
\item \code{c_ocu11c}: 11 grandes grupos ocupacionales.
\item \code{pos_ocu}: Posición en la ocupación.
\item \code{rama_est2}: Rama de actividad.
\item \code{ing7c}: Indicador de percepción de ingresos.
\item \code{ent}: Clave de entidad federativa.
\item \code{hrsocup}: Horas trabajadas a la semana.
\item \code{t_loc}: Tamaño de localidad.
}

Solo se consideran aquellas variables donantes que están disponibles en el conjunto de datos.
}
\seealso{
Other procesamiento_enoe: 
\code{\link{crear_folios}()},
\code{\link{ipc_enoe}()},
\code{\link{procesar_tiempo}()},
\code{\link{procesar_variables_enoe}()},
\code{\link{procesar_vars_hogar}()},
\code{\link{procesar_vars_laborales}()},
\code{\link{procesar_vars_sociodemo}()}
}
\concept{procesamiento_enoe}
